{"target":"c++","imports":["readConfig.h"],"type_definitions":{"schemas":[],"native_types":{"Parameters":{"type_symbol":"Parameters","destructor":"~Parameters() {}"},"Timer":{"type_symbol":"Timer","destructor":"~Timer"}},"events":[]},"top_level_astds":[{"name":"Main","parameters":[],"type":"Automaton","invariant":"","typed_astd":{"attributes":[{"name":"power_status","type":"string","initial_value":"off"},{"name":"parameters","type":"Parameters","initial_value":"{}"}],"code":"","interruptCode":"","states":[{"name":"ON","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""},{"name":"StartUpCall","astd":{"name":"StartUpCall","type":"Call","invariant":"","typed_astd":{"called_astd_name":"Controller","call_arguments":[{"name":"parameters","value":{"type":"Expression","content":"parameters"}},{"name":"power_status","value":{"type":"Expression","content":"power_status"}}]}},"entry_code":"","stay_code":"","exit_code":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"ON","to_state_name":"StartUpCall"},"event_template":{"label":"power_on","parameters":[],"when":[]},"guard":"power_status==\"off\"","action":"{power_status=\"on\";}","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"StartUpCall","to_state_name":"ON"},"event_template":{"label":"power_off","parameters":[],"when":[]},"guard":"","action":"{power_status=\"off\";save_config(\"config.txt\", parameters);}","step":false,"from_final_state_only":false}],"shallow_final_state_names":[],"deep_final_state_names":[],"initial_state_name":"ON"}},{"name":"StartUp","parameters":[{"name":"parameters","type":"Parameters","domain":{"type":"UnboundedDomain"}},{"name":"updated_parameters","type":"Parameters","domain":{"type":"UnboundedDomain"}}],"type":"Choice","invariant":"","typed_astd":{"attributes":[{"name":"adc_timeout","type":"int","initial_value":"3"},{"name":"pressure_sensor_timeout","type":"int","initial_value":"2"},{"name":"error","type":"bool","initial_value":"false"},{"name":"processes_count","type":"int","initial_value":"0"}],"code":"","interruptCode":"","left_astd":{"name":"StartUpActions","type":"Guard","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","guard":"error == false","sub_astd":{"name":"ExecuteStartUpActions","type":"Sequence","typed_astd":{"attributes":[],"code":"","interruptCode":"","left_astd":{"name":"LoadConfiguration","type":"Call","invariant":"","typed_astd":{"called_astd_name":"Initialization","call_arguments":[{"name":"parameters","value":{"type":"Expression","content":"parameters"}},{"name":"adc_timeout","value":{"type":"Expression","content":"adc_timeout"}},{"name":"updated_parameters","value":{"type":"Expression","content":"updated_parameters"}},{"name":"error","value":{"type":"Expression","content":"error"}}]}},"right_astd":{"name":"CheckCommunication","type":"Flow","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","left_astd":{"name":"CheckValvesCommunication","type":"Automaton","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"S1","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""},{"name":"S2","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""},{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S2","to_state_name":"S1"},"event_template":{"label":"valve_success_communication","parameters":[],"when":[]},"guard":"","action":"{processes_count++;\nif(processes_count==4){cout<< \"The initialisation process has been completed successfully\"<< endl;}\n}","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S2"},"event_template":{"label":"Step","parameters":[],"when":[]},"guard":"","action":"{cout<< \"Step 1=========\"<< endl;}","step":false,"from_final_state_only":false}],"shallow_final_state_names":["S1"],"deep_final_state_names":[],"initial_state_name":"S0"}},"right_astd":{"name":"CheckCommunication_o1","type":"Flow","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","left_astd":{"name":"CheckGUICommunication","type":"Automaton","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"S2","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""},{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""},{"name":"S1","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S2","to_state_name":"S1"},"event_template":{"label":"gui_success_communication","parameters":[],"when":[]},"guard":"","action":"{processes_count++;\nif(processes_count==4){cout<< \"The initialisation process has been completed successfully\"<< endl;}\n}","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S2"},"event_template":{"label":"Step","parameters":[],"when":[]},"guard":"","action":"{cout<< \"Step 2=========\"<< endl;}","step":false,"from_final_state_only":false}],"shallow_final_state_names":["S1"],"deep_final_state_names":[],"initial_state_name":"S0"}},"right_astd":{"name":"CheckSensorsConnexion","type":"Automaton","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"CheckSensorsConnection","astd":{"name":"CheckSensorsConnection","type":"Call","invariant":"","typed_astd":{"called_astd_name":"CheckSensors","call_arguments":[{"name":"parameters","value":{"type":"Expression","content":"parameters"}},{"name":"pressure_sensor_timeout","value":{"type":"Expression","content":"pressure_sensor_timeout"}},{"name":"error","value":{"type":"Expression","content":"error"}},{"name":"processes_count","value":{"type":"Expression","content":"processes_count"}}]}},"entry_code":"","stay_code":"","exit_code":""}],"transitions":[],"shallow_final_state_names":[],"deep_final_state_names":["CheckSensorsConnection"],"initial_state_name":"CheckSensorsConnection"}}}}}}}}}},"right_astd":{"name":"StartUpErrorMessage","type":"Guard","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","guard":"error == true","sub_astd":{"name":"displayErrorMessage","type":"Automaton","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""},{"name":"S1","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S1"},"event_template":{"label":"Step","parameters":[],"when":[]},"guard":"(error == true)","action":"{cout<< \"Error during the initialisation process\"<< endl;}","step":false,"from_final_state_only":false}],"shallow_final_state_names":[],"deep_final_state_names":[],"initial_state_name":"S0"}}}}}},{"name":"FailSafe","parameters":[{"name":"parameters","type":"Parameters","domain":{"type":"UnboundedDomain"}}],"type":"Automaton","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"{parameters.in_valve=\"close\";parameters.out_valve=\"open\";}","stay_code":"","exit_code":"","invariant":""}],"transitions":[],"shallow_final_state_names":[],"deep_final_state_names":[],"initial_state_name":"S0"}},{"name":"SelfTest","parameters":[{"name":"parameters","type":"Parameters","domain":{"type":"UnboundedDomain"}}],"type":"Interleave","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","left_astd":{"name":"SwitchOverFromExternalInternal","type":"Automaton","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"S1","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""},{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S1"},"event_template":{"label":"Step","parameters":[],"when":[]},"guard":"parameters.power_supply == \"internal\"","action":"","step":false,"from_final_state_only":false}],"shallow_final_state_names":["S1"],"deep_final_state_names":[],"initial_state_name":"S0"}},"right_astd":{"name":"SelfTest_o1","type":"Interleave","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","left_astd":{"name":"SelfTestUnacceptableLeaks","type":"Automaton","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"CallUnacceptableLeaksFailSafe","astd":{"name":"CallUnacceptableLeaksFailSafe","type":"Call","invariant":"","typed_astd":{"called_astd_name":"FailSafe","call_arguments":[{"name":"parameters","value":{"type":"Expression","content":"parameters"}}]}},"entry_code":"","stay_code":"","exit_code":""},{"name":"S1","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""},{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S1"},"event_template":{"label":"no_unacceptable_leaks","parameters":[],"when":[]},"guard":"","action":"","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"CallUnacceptableLeaksFailSafe"},"event_template":{"label":"unacceptable_leaks","parameters":[],"when":[]},"guard":"","action":"","step":false,"from_final_state_only":false}],"shallow_final_state_names":["S1"],"deep_final_state_names":["CallUnacceptableLeaksFailSafe"],"initial_state_name":"S0"}},"right_astd":{"name":"SelfTest_o2","type":"Interleave","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","left_astd":{"name":"SelfTestExpiratoryValve","type":"Automaton","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"CallExpiratoryValveFailSafe","astd":{"name":"CallExpiratoryValveFailSafe","type":"Call","invariant":"","typed_astd":{"called_astd_name":"FailSafe","call_arguments":[{"name":"parameters","value":{"type":"Expression","content":"parameters"}}]}},"entry_code":"","stay_code":"","exit_code":""},{"name":"S1","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""},{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S1"},"event_template":{"label":"get_ps_exp","parameters":[],"when":[]},"guard":"","action":"","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"CallExpiratoryValveFailSafe"},"event_template":{"label":"no_functional_ps_exp","parameters":[],"when":[]},"guard":"","action":"","step":false,"from_final_state_only":false}],"shallow_final_state_names":["S1"],"deep_final_state_names":["CallExpiratoryValveFailSafe"],"initial_state_name":"S0"}},"right_astd":{"name":"SelfTest_o3","type":"Interleave","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","left_astd":{"name":"SelfTestOxygenSensor","type":"Automaton","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"CallOxygenSensorFailSafe","astd":{"name":"CallOxygenSensorFailSafe","type":"Call","invariant":"","typed_astd":{"called_astd_name":"FailSafe","call_arguments":[{"name":"parameters","value":{"type":"Expression","content":"parameters"}}]}},"entry_code":"","stay_code":"","exit_code":""},{"name":"S1","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""},{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S1"},"event_template":{"label":"get_OS","parameters":[],"when":[]},"guard":"","action":"","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"CallOxygenSensorFailSafe"},"event_template":{"label":"no_calibrate_OS","parameters":[],"when":[]},"guard":"","action":"","step":false,"from_final_state_only":false}],"shallow_final_state_names":["S1"],"deep_final_state_names":["CallOxygenSensorFailSafe"],"initial_state_name":"S0"}},"right_astd":{"name":"SelfTest_o4","type":"Interleave","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","left_astd":{"name":"SelfTestLocalAlarm","type":"Automaton","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"CallLocalAlarmsFailSafe","astd":{"name":"CallLocalAlarmsFailSafe","type":"Call","invariant":"","typed_astd":{"called_astd_name":"FailSafe","call_arguments":[{"name":"parameters","value":{"type":"Expression","content":"parameters"}}]}},"entry_code":"","stay_code":"","exit_code":""},{"name":"S1","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""},{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S1"},"event_template":{"label":"functional_local_alarms","parameters":[],"when":[]},"guard":"","action":"","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"CallLocalAlarmsFailSafe"},"event_template":{"label":"no_functional_local_alarms","parameters":[],"when":[]},"guard":"","action":"","step":false,"from_final_state_only":false}],"shallow_final_state_names":["S1"],"deep_final_state_names":["CallLocalAlarmsFailSafe"],"initial_state_name":"S0"}},"right_astd":{"name":"SelfTestFlowMeter","type":"Automaton","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"CallFlowMeterFailSafe","astd":{"name":"CallFlowMeterFailSafe","type":"Call","invariant":"","typed_astd":{"called_astd_name":"FailSafe","call_arguments":[{"name":"parameters","value":{"type":"Expression","content":"parameters"}}]}},"entry_code":"","stay_code":"","exit_code":""},{"name":"S1","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""},{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S1"},"event_template":{"label":"get_fi2","parameters":[],"when":[]},"guard":"","action":"","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"CallFlowMeterFailSafe"},"event_template":{"label":"no_connected_or_calibrated","parameters":[],"when":[]},"guard":"","action":"","step":false,"from_final_state_only":false}],"shallow_final_state_names":["S1"],"deep_final_state_names":["CallFlowMeterFailSafe"],"initial_state_name":"S0"}}}}}}}}}}}},{"name":"Ventilationoff","parameters":[{"name":"parameters","type":"Parameters","domain":{"type":"UnboundedDomain"}}],"type":"Guard","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","guard":"parameters.in_valve==\"close\" && parameters.out_valve == \"open\"","sub_astd":{"name":"MigrateToSpecifiedMode","type":"Automaton","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"S2","astd":{"type":"Elem","typed_astd":{}},"entry_code":"{cout<< \"Inside ventilation Off\"<< endl;}","stay_code":"","exit_code":"","invariant":""}],"transitions":[],"shallow_final_state_names":["S2"],"deep_final_state_names":[],"initial_state_name":"S2"}}}},{"name":"InspirationPhaseEnd","parameters":[{"name":"parameters","type":"Parameters","domain":{"type":"UnboundedDomain"}},{"name":"expiratory_time","type":"float","domain":{"type":"UnboundedDomain"}},{"name":"go_to_psv_from_pcv","type":"bool","domain":{"type":"UnboundedDomain"}}],"type":"Choice","invariant":"","typed_astd":{"attributes":[{"name":"inspiration_phase_timer","type":"Timer","initial_value":"0"}],"code":"","interruptCode":"","left_astd":{"name":"GoToPSVMode","type":"Guard","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","guard":"parameters.start_psv","sub_astd":{"name":"ChangeMode","type":"Automaton","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""},{"name":"S1","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S1"},"event_template":{"label":"Step","parameters":[],"when":[]},"guard":"","action":"{go_to_psv_from_pcv=true;}","step":false,"from_final_state_only":false}],"shallow_final_state_names":["S1"],"deep_final_state_names":[],"initial_state_name":"S0"}}}},"right_astd":{"name":"InspirationPhaseEnd_o1","type":"Choice","invariant":"","typed_astd":{"attributes":[{"name":"inspiration_phase_timer","type":"Timer","initial_value":"0"}],"code":"","interruptCode":"","left_astd":{"name":"RecruitmentManeuverGuard","type":"Guard","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","guard":"parameters.inspiratory_pause_on == false","sub_astd":{"name":"RecruitmentManeuver","type":"Automaton","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"RecruitmentManeuverGetOut","astd":{"name":"RecruitmentManeuverGetOut","type":"Timeout","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"{cout << \"Launch Recruitment maneuver Timeout\" <<endl ;\nparameters.recruitment_maneuver_on=false;parameters.recruitment_maneuver_off=true;\nparameters.out_valve=\"open\";parameters.in_valve=\"close\";\nexpiratory_time=60/(parameters.rr_pcv*(1+parameters.ie_pcv));\n}","duration":"parameters.max_rm_time","duration_unit":"Second","left_astd":{"name":"StopRM","type":"Automaton","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""},{"name":"S1","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"{parameters.out_valve=\"open\";parameters.in_valve=\"close\";}","invariant":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S1"},"event_template":{"label":"recruitment_maneuver_off","parameters":[],"when":[]},"guard":"","action":"{parameters.recruitment_maneuver_on=false;parameters.recruitment_maneuver_off=true;\ncout << \"Launch Recruitment maneuver off\" <<endl ;\nexpiratory_time=60/(parameters.rr_pcv*(1+parameters.ie_pcv));\ncout << \"Compute expiratory time \"<< expiratory_time <<endl ;\n}","step":false,"from_final_state_only":false}],"shallow_final_state_names":["S1"],"deep_final_state_names":[],"initial_state_name":"S0"}},"right_astd":{"name":"EndRM","type":"Automaton","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"{parameters.recruitment_maneuver_on=false;parameters.recruitment_maneuver_off=true;\n}","stay_code":"","exit_code":"{parameters.out_valve=\"open\";parameters.in_valve=\"close\";}","invariant":""}],"transitions":[],"shallow_final_state_names":["S0"],"deep_final_state_names":[],"initial_state_name":"S0"}}}},"entry_code":"","stay_code":"","exit_code":""},{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"RecruitmentManeuverGetOut"},"event_template":{"label":"recruitment_maneuver_on","parameters":[],"when":[]},"guard":"","action":"{parameters.recruitment_maneuver_on=true;parameters.recruitment_maneuver_off=false;\nparameters.out_valve=\"close\";\nparameters.in_valve=\"open\";\nexpiratory_time=60/(parameters.rr_pcv*(1+parameters.ie_pcv));\ncout << \"Launch Recruitment maneuver on\" <<endl ;\n}","step":false,"from_final_state_only":false}],"shallow_final_state_names":[],"deep_final_state_names":["RecruitmentManeuverGetOut"],"initial_state_name":"S0"}}}},"right_astd":{"name":"InspirationPhaseEnd_o2","type":"Choice","invariant":"","typed_astd":{"attributes":[{"name":"inspiration_phase_timer","type":"Timer","initial_value":"0"}],"code":"","interruptCode":"","left_astd":{"name":"InspiratoryPauseGuard","type":"Guard","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","guard":"parameters.recruitment_maneuver_on == false","sub_astd":{"name":"InspiratoryPause","type":"Automaton","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"InspiratoryPauseGetOut","astd":{"name":"InspiratoryPauseGetOut","type":"Timeout","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"{cout << \"Launch inspiratory pause TimeOut\" <<endl ;\nparameters.inspiratory_pause_on=false;parameters.inspiratory_pause_off=true;\nparameters.out_valve=\"open\";parameters.in_valve=\"close\";\nexpiratory_time=60/(parameters.rr_pcv*(1+parameters.ie_pcv));\n}","duration":"parameters.max_ins_pause","duration_unit":"Second","left_astd":{"name":"StopIP","type":"Automaton","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""},{"name":"S1","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"{parameters.out_valve=\"open\";parameters.in_valve=\"close\";}","invariant":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S1"},"event_template":{"label":"inspiratory_pause_off","parameters":[],"when":[]},"guard":"","action":"{parameters.inspiratory_pause_on=false;parameters.inspiratory_pause_off=true;\ncout << \"Launch inspiratory pause off\" <<endl ;\nexpiratory_time=60/(parameters.rr_pcv*(1+parameters.ie_pcv));\ncout << \"Compute expiratory time \"<< expiratory_time <<endl ;\n}","step":false,"from_final_state_only":false}],"shallow_final_state_names":["S1"],"deep_final_state_names":[],"initial_state_name":"S0"}},"right_astd":{"name":"EndIP","type":"Automaton","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"{parameters.inspiratory_pause_on=false;parameters.inspiratory_pause_off=true;}","stay_code":"","exit_code":"{parameters.out_valve=\"open\";parameters.in_valve=\"close\";}","invariant":""}],"transitions":[],"shallow_final_state_names":["S0"],"deep_final_state_names":[],"initial_state_name":"S0"}}}},"entry_code":"","stay_code":"","exit_code":""},{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"InspiratoryPauseGetOut"},"event_template":{"label":"inspiratory_pause_on","parameters":[],"when":[]},"guard":"","action":"{parameters.inspiratory_pause_on=true;parameters.inspiratory_pause_off=false;\nexpiratory_time=60/(parameters.rr_pcv*(1+parameters.ie_pcv));\ncout << \"Launch inspiratory pause on\" <<endl ;\n}","step":false,"from_final_state_only":false}],"shallow_final_state_names":[],"deep_final_state_names":["InspiratoryPauseGetOut"],"initial_state_name":"S0"}}}},"right_astd":{"name":"GoToExpirationPhaseGuard","type":"Guard","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","guard":"parameters.recruitment_maneuver_on == false && parameters.inspiratory_pause_on == false","sub_astd":{"name":"GoToExpirationPhase","type":"Automaton","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""},{"name":"S1","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"{parameters.out_valve=\"open\";parameters.in_valve=\"close\";}","invariant":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S1"},"event_template":{"label":"no_action","parameters":[],"when":[]},"guard":"","action":"{expiratory_time=60/(parameters.rr_pcv*(1+parameters.ie_pcv));\ncout << \"Go to Expiration Phase directly\" <<endl ;\n}","step":false,"from_final_state_only":false}],"shallow_final_state_names":["S1"],"deep_final_state_names":[],"initial_state_name":"S0"}}}}}}}}}},{"name":"PSVMode","parameters":[{"name":"parameters","type":"Parameters","domain":{"type":"UnboundedDomain"}},{"name":"paw_drop_in","type":"float","domain":{"type":"UnboundedDomain"}},{"name":"move_to_pcv","type":"bool","domain":{"type":"UnboundedDomain"}},{"name":"last_inspiration_time","type":"float","domain":{"type":"UnboundedDomain"}},{"name":"peak_pinsp_psv","type":"float","domain":{"type":"UnboundedDomain"}},{"name":"ve","type":"float","domain":{"type":"UnboundedDomain"}},{"name":"updated_parameters","type":"Parameters","domain":{"type":"UnboundedDomain"}}],"type":"Kleene","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","sub_astd":{"name":"PSVBreathCycle","type":"Sequence","typed_astd":{"attributes":[],"code":"","interruptCode":"","left_astd":{"name":"PSVInspirationAndPawCheck","type":"Choice","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","left_astd":{"name":"CallPSVInspiration","type":"Call","invariant":"","typed_astd":{"called_astd_name":"PSVModeInspiration","call_arguments":[{"name":"parameters","value":{"type":"Expression","content":"parameters"}},{"name":"peak_pinsp_psv","value":{"type":"Expression","content":"peak_pinsp_psv"}},{"name":"ve","value":{"type":"Expression","content":"ve"}}]}},"right_astd":{"name":"CheckPaw","type":"Automaton","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""},{"name":"S1","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"{parameters.out_valve=\"open\";parameters.in_valve=\"close\";}","invariant":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S1"},"event_template":{"label":"Step","parameters":[],"when":[]},"guard":" parameters.paw > parameters.max_pinsp","action":"","step":false,"from_final_state_only":false}],"shallow_final_state_names":["S1"],"deep_final_state_names":[],"initial_state_name":"S0"}}}},"right_astd":{"name":"CallPSVExpiration","type":"Call","invariant":"","typed_astd":{"called_astd_name":"PSVModeExpiration","call_arguments":[{"name":"parameters","value":{"type":"Expression","content":"parameters"}},{"name":"paw_drop_in","value":{"type":"Expression","content":"paw_drop_in"}},{"name":"last_inspiration_time","value":{"type":"Expression","content":"last_inspiration_time"}},{"name":"move_to_pcv","value":{"type":"Expression","content":"move_to_pcv"}},{"name":"updated_parameters","value":{"type":"Expression","content":"updated_parameters"}}]}}}}}},{"name":"Controller","parameters":[{"name":"parameters","type":"Parameters","domain":{"type":"UnboundedDomain"}},{"name":"power_status","type":"string","domain":{"type":"UnboundedDomain"}}],"type":"Flow","invariant":"","typed_astd":{"attributes":[{"name":"error_value","type":"string","initial_value":""},{"name":"paw_drop_in","type":"float","initial_value":"0"},{"name":"last_inspiration_time","type":"float","initial_value":"0"},{"name":"move_to_pcv","type":"bool","initial_value":"false"},{"name":"mode","type":"string","initial_value":""},{"name":"peak_pinsp","type":"float","initial_value":"0"},{"name":"ve","type":"float","initial_value":"2"},{"name":"updated_parameters","type":"Parameters","initial_value":"Parameters()"},{"name":"rr","type":"float","initial_value":"0"},{"name":"peep","type":"float","initial_value":"0"},{"name":"fio2","type":"float","initial_value":"0"},{"name":"vtidal","type":"float","initial_value":"0"}],"code":"","interruptCode":"","left_astd":{"name":"StartFlow","type":"Sequence","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","left_astd":{"name":"StartUpCall","type":"Call","invariant":"","typed_astd":{"called_astd_name":"StartUp","call_arguments":[{"name":"parameters","value":{"type":"Expression","content":"parameters"}},{"name":"updated_parameters","value":{"type":"Expression","content":"updated_parameters"}}]}},"right_astd":{"name":"LaunchSelfTest","type":"Sequence","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","left_astd":{"name":"GoToVentilationOff","type":"Choice","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","left_astd":{"name":"CallSelfTest","type":"Call","invariant":"","typed_astd":{"called_astd_name":"SelfTest","call_arguments":[{"name":"parameters","value":{"type":"Expression","content":"parameters"}}]}},"right_astd":{"name":"ResumeVentilation","type":"Automaton","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""},{"name":"S1","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S1"},"event_template":{"label":"resume_ventilation","parameters":[],"when":[]},"guard":"","action":"","step":false,"from_final_state_only":false}],"shallow_final_state_names":["S1"],"deep_final_state_names":[],"initial_state_name":"S0"}}}},"right_astd":{"name":"ChooseMode","type":"Automaton","invariant":"","typed_astd":{"attributes":[{"name":"inspiration_time","type":"float","initial_value":"0"},{"name":"go_to_psv_from_pcv","type":"bool","initial_value":"false"}],"code":"","interruptCode":"","states":[{"name":"stop_ventilation","astd":{"name":"stop_ventilation","type":"Call","invariant":"","typed_astd":{"called_astd_name":"Ventilationoff","call_arguments":[{"name":"parameters","value":{"type":"Expression","content":"parameters"}}]}},"entry_code":"","stay_code":"","exit_code":""},{"name":"CallPCVMode","astd":{"name":"CallPCVMode","type":"Call","invariant":"","typed_astd":{"called_astd_name":"PCVMode","call_arguments":[{"name":"parameters","value":{"type":"Expression","content":"parameters"}},{"name":"paw_drop_in","value":{"type":"Expression","content":"paw_drop_in"}},{"name":"inspiration_time","value":{"type":"Expression","content":"inspiration_time"}},{"name":"updated_parameters","value":{"type":"Expression","content":"updated_parameters"}},{"name":"go_to_psv_from_pcv","value":{"type":"Expression","content":"go_to_psv_from_pcv"}}]}},"entry_code":"","stay_code":"","exit_code":""},{"name":"CallPSVMode","astd":{"name":"CallPSVMode","type":"Call","invariant":"","typed_astd":{"called_astd_name":"PSVMode","call_arguments":[{"name":"parameters","value":{"type":"Expression","content":"parameters"}},{"name":"paw_drop_in","value":{"type":"Expression","content":"paw_drop_in"}},{"name":"move_to_pcv","value":{"type":"Expression","content":"move_to_pcv"}},{"name":"last_inspiration_time","value":{"type":"Expression","content":"last_inspiration_time"}},{"name":"peak_pinsp_psv","value":{"type":"Expression","content":"peak_pinsp"}},{"name":"ve","value":{"type":"Expression","content":"ve"}},{"name":"updated_parameters","value":{"type":"Expression","content":"updated_parameters"}}]}},"entry_code":"","stay_code":"","exit_code":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"stop_ventilation","to_state_name":"CallPSVMode"},"event_template":{"label":"start_psv","parameters":[],"when":[]},"guard":"","action":"{parameters.start_psv=true;parameters.start_pcv=false;mode=\"psv\";}","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"stop_ventilation","to_state_name":"CallPCVMode"},"event_template":{"label":"start_pcv","parameters":[],"when":[]},"guard":"","action":"{parameters.start_psv=false;parameters.start_pcv=true;mode=\"pcv\";\ninspiration_time =60*parameters.ie_pcv/(parameters.rr_pcv*(1+parameters.ie_pcv));\n}","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"CallPSVMode","to_state_name":"stop_ventilation"},"event_template":{"label":"stop_psv","parameters":[],"when":[]},"guard":"","action":"{parameters.in_valve=\"close\";parameters.out_valve=\"open\";}","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"CallPCVMode","to_state_name":"stop_ventilation"},"event_template":{"label":"stop_pcv","parameters":[],"when":[]},"guard":"","action":"{parameters.in_valve=\"close\";parameters.out_valve=\"open\";}","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"CallPSVMode","to_state_name":"CallPCVMode"},"event_template":{"label":"Step","parameters":[],"when":[]},"guard":"move_to_pcv","action":"{mode=\"pcv\";\ninspiration_time =60*parameters.ie_pcv/(parameters.rr_pcv*(1+parameters.ie_pcv));\n}","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"CallPCVMode","to_state_name":"CallPSVMode"},"event_template":{"label":"Step","parameters":[],"when":[]},"guard":"go_to_psv_from_pcv","action":"{go_to_psv_from_pcv=false;}","step":false,"from_final_state_only":false}],"shallow_final_state_names":[],"deep_final_state_names":[],"initial_state_name":"stop_ventilation"}}}}}},"right_astd":{"name":"Controller_o1","type":"Flow","invariant":"","typed_astd":{"attributes":[{"name":"error_value","type":"string","initial_value":""},{"name":"paw_drop_in","type":"float","initial_value":"0"},{"name":"last_inspiration_time","type":"float","initial_value":"0"},{"name":"move_to_pcv","type":"bool","initial_value":"false"},{"name":"mode","type":"string","initial_value":""},{"name":"peak_pinsp","type":"float","initial_value":"0"},{"name":"ve","type":"float","initial_value":"2"},{"name":"updated_parameters","type":"Parameters","initial_value":"Parameters()"},{"name":"rr","type":"float","initial_value":"0"},{"name":"peep","type":"float","initial_value":"0"},{"name":"fio2","type":"float","initial_value":"0"},{"name":"vtidal","type":"float","initial_value":"0"}],"code":"","interruptCode":"","left_astd":{"name":"GetOtherCommands","type":"Call","invariant":"","typed_astd":{"called_astd_name":"Sensors","call_arguments":[{"name":"peak_pinsp","value":{"type":"Expression","content":"peak_pinsp"}},{"name":"parameters","value":{"type":"Expression","content":"parameters"}},{"name":"mode","value":{"type":"Expression","content":"mode"}},{"name":"paw_drop_in","value":{"type":"Expression","content":"paw_drop_in"}},{"name":"ve","value":{"type":"Expression","content":"ve"}},{"name":"updated_parameters","value":{"type":"Expression","content":"updated_parameters"}},{"name":"rr","value":{"type":"Expression","content":"rr"}},{"name":"peep","value":{"type":"Expression","content":"peep"}},{"name":"vtidal","value":{"type":"Expression","content":"vtidal"}}]}},"right_astd":{"name":"CallActuators","type":"Call","invariant":"","typed_astd":{"called_astd_name":"Actuators","call_arguments":[{"name":"parameters","value":{"type":"Expression","content":"parameters"}},{"name":"power_status","value":{"type":"Expression","content":"power_status"}},{"name":"mode","value":{"type":"Expression","content":"mode"}},{"name":"vtidal","value":{"type":"Expression","content":"vtidal"}},{"name":"rr","value":{"type":"Expression","content":"rr"}},{"name":"peep","value":{"type":"Expression","content":"peep"}},{"name":"peak_pinsp","value":{"type":"Expression","content":"peak_pinsp"}},{"name":"fio2","value":{"type":"Expression","content":"fio2"}},{"name":"ve","value":{"type":"Expression","content":"ve"}}]}}}}}},{"name":"CheckSensors","parameters":[{"name":"parameters","type":"Parameters","domain":{"type":"UnboundedDomain"}},{"name":"pressure_sensor_timeout","type":"int","domain":{"type":"UnboundedDomain"}},{"name":"error","type":"bool","domain":{"type":"UnboundedDomain"}},{"name":"processes_count","type":"int","domain":{"type":"UnboundedDomain"}}],"type":"Flow","invariant":"","typed_astd":{"attributes":[{"name":"pressure_sensor_valid_response","type":"bool","initial_value":"false"}],"code":"","interruptCode":"","left_astd":{"name":"PressureSensor","type":"Kleene","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","sub_astd":{"name":"CheckPressureSensor","type":"Choice","typed_astd":{"attributes":[{"name":"attempt","type":"int","initial_value":"1"}],"code":"","interruptCode":"","left_astd":{"name":"LaunchPing","type":"Guard","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","guard":"((attempt != 6) && !pressure_sensor_valid_response)","sub_astd":{"name":"TestPressureSensor","type":"Automaton","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"LaunchConnection","astd":{"name":"LaunchConnection","type":"Timeout","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","duration":"pressure_sensor_timeout","duration_unit":"Second","left_astd":{"name":"GetResponse","type":"Automaton","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"CallFailSafeMode","astd":{"name":"CallFailSafeMode","type":"Call","invariant":"","typed_astd":{"called_astd_name":"FailSafe","call_arguments":[{"name":"parameters","value":{"type":"Expression","content":"parameters"}}]}},"entry_code":"","stay_code":"","exit_code":""},{"name":"S1","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""},{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S1"},"event_template":{"label":"success_connection","parameters":[],"when":[]},"guard":"","action":"{processes_count++;\npressure_sensor_valid_response=true;\nif(processes_count==4){cout<< \"The initialisation process has been completed successfully\"<< endl;}\n}","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"CallFailSafeMode"},"event_template":{"label":"error","parameters":[],"when":[]},"guard":"","action":"{error=true;}","step":false,"from_final_state_only":false}],"shallow_final_state_names":["S1"],"deep_final_state_names":[],"initial_state_name":"S0"}},"right_astd":{"name":"NoResponse","type":"Automaton","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""}],"transitions":[],"shallow_final_state_names":["S0"],"deep_final_state_names":[],"initial_state_name":"S0"}}}},"entry_code":"","stay_code":"","exit_code":""},{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"LaunchConnection"},"event_template":{"label":"Step","parameters":[],"when":[]},"guard":"","action":"{attempt++;}","step":false,"from_final_state_only":false}],"shallow_final_state_names":[],"deep_final_state_names":["LaunchConnection"],"initial_state_name":"S0"}}}},"right_astd":{"name":"PressureSensorNoResponse","type":"Guard","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","guard":"(attempt == 6)","sub_astd":{"name":"PressureSensorLaunchFailSafeMode","type":"Automaton","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"CallFailSafe","astd":{"name":"CallFailSafe","type":"Call","invariant":"","typed_astd":{"called_astd_name":"FailSafe","call_arguments":[{"name":"parameters","value":{"type":"Expression","content":"parameters"}}]}},"entry_code":"","stay_code":"","exit_code":""},{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"CallFailSafe"},"event_template":{"label":"Step","parameters":[],"when":[]},"guard":"","action":"{error=true;}","step":false,"from_final_state_only":false}],"shallow_final_state_names":[],"deep_final_state_names":[],"initial_state_name":"S0"}}}}}}}},"right_astd":{"name":"OtherSensors","type":"Automaton","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"S2","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""},{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""},{"name":"S1","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S2","to_state_name":"S1"},"event_template":{"label":"other_sensors_connexion","parameters":[],"when":[]},"guard":"","action":"{processes_count++;\nif(processes_count==4){cout<< \"The initialisation process has been completed successfully\"<< endl;}\n}","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S2"},"event_template":{"label":"Step","parameters":[],"when":[]},"guard":"","action":"","step":false,"from_final_state_only":false}],"shallow_final_state_names":["S1"],"deep_final_state_names":[],"initial_state_name":"S0"}}}},{"name":"PCVModeExpiration","parameters":[{"name":"parameters","type":"Parameters","domain":{"type":"UnboundedDomain"}},{"name":"paw_drop_in","type":"float","domain":{"type":"UnboundedDomain"}},{"name":"inspiration_time","type":"float","domain":{"type":"UnboundedDomain"}},{"name":"updated_parameters","type":"Parameters","domain":{"type":"UnboundedDomain"}},{"name":"expiratory_time","type":"float","domain":{"type":"UnboundedDomain"}}],"type":"Timeout","invariant":"","typed_astd":{"attributes":[{"name":"its_trigger_window","type":"Timer","initial_value":"parameters.trigger_window_dealy"}],"code":"","interruptCode":"cout << \"No Detect Spontaneaous Breath\" <<endl ;","duration":"expiratory_time","duration_unit":"Second","left_astd":{"name":"DetectSpontaneousBreath","type":"Automaton","invariant":"","typed_astd":{"attributes":[{"name":"min_exp_time_psv","type":"Timer","initial_value":"0"}],"code":"","interruptCode":"","states":[{"name":"S1","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"{inspiration_time =60*parameters.ie_pcv/(parameters.rr_pcv*(1+parameters.ie_pcv));}","invariant":""},{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"{parameters.out_valve=\"open\";parameters.in_valve=\"close\";}","stay_code":"","exit_code":"","invariant":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S1"},"event_template":{"label":"Step","parameters":[],"when":[]},"guard":"(paw_drop_in > parameters.its_pcv) && its_trigger_window.expired(0.7)","action":"{parameters=updated_parameters;\ninspiration_time =60*parameters.ie_pcv/(parameters.rr_pcv*(1+parameters.ie_pcv));\ncout << \"Detect Spontaneaous Breath\" <<endl ;\n}","step":false,"from_final_state_only":false}],"shallow_final_state_names":["S1"],"deep_final_state_names":[],"initial_state_name":"S0"}},"right_astd":{"name":"NoSpontaneousBreath","type":"Automaton","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"CallPCVDetectExpiratoryPauseOff","astd":{"name":"CallPCVDetectExpiratoryPauseOff","type":"Call","invariant":"","typed_astd":{"called_astd_name":"DetectExpiratoryPauseOff","call_arguments":[{"name":"parameters","value":{"type":"Expression","content":"parameters"}},{"name":"inspiration_time","value":{"type":"Expression","content":"inspiration_time"}},{"name":"updated_parameters","value":{"type":"Expression","content":"updated_parameters"}}]}},"entry_code":"","stay_code":"","exit_code":""},{"name":"S1","astd":{"type":"Elem","typed_astd":{}},"entry_code":"{\ninspiration_time =60*parameters.ie_pcv/(parameters.rr_pcv*(1+parameters.ie_pcv));\n}","stay_code":"","exit_code":"{inspiration_time =60*parameters.ie_pcv/(parameters.rr_pcv*(1+parameters.ie_pcv));}","invariant":""},{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S1"},"event_template":{"label":"no_expiratory_pause_on","parameters":[],"when":[]},"guard":"","action":"{parameters=updated_parameters;\ncout << \"No expiration pause on\" <<endl ;\n}","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"CallPCVDetectExpiratoryPauseOff"},"event_template":{"label":"expiratory_pause_on","parameters":[],"when":[]},"guard":"","action":"{parameters.expiratory_pause_on=true;parameters.expiratory_pause_off=false;\ncout << \"Launch Expiratory pause on\" <<endl ;\n}","step":false,"from_final_state_only":false}],"shallow_final_state_names":["S1"],"deep_final_state_names":["CallPCVDetectExpiratoryPauseOff"],"initial_state_name":"S0"}}}},{"name":"PCVMode","parameters":[{"name":"parameters","type":"Parameters","domain":{"type":"UnboundedDomain"}},{"name":"paw_drop_in","type":"float","domain":{"type":"UnboundedDomain"}},{"name":"inspiration_time","type":"float","domain":{"type":"UnboundedDomain"}},{"name":"updated_parameters","type":"Parameters","domain":{"type":"UnboundedDomain"}},{"name":"go_to_psv_from_pcv","type":"float","domain":{"type":"UnboundedDomain"}}],"type":"Kleene","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","sub_astd":{"name":"BreathCycle","type":"Sequence","invariant":"","typed_astd":{"attributes":[{"name":"expiratory_time","type":"float","initial_value":"0"}],"code":"","interruptCode":"","left_astd":{"name":"InspirationAndPawCheck","type":"Choice","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","left_astd":{"name":"CheckPaw","type":"Automaton","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"S1","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""},{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S1"},"event_template":{"label":"Step","parameters":[],"when":[]},"guard":" (parameters.paw > parameters.max_pinsp)","action":"{\ncout << \"Go To Expiration paw > max_pinsp\" <<endl ;\n}","step":false,"from_final_state_only":false}],"shallow_final_state_names":["S1"],"deep_final_state_names":[],"initial_state_name":"S0"}},"right_astd":{"name":"CallPCVModeInspiration","type":"Call","invariant":"","typed_astd":{"called_astd_name":"PCVModeInspiration","call_arguments":[{"name":"parameters","value":{"type":"Expression","content":"parameters"}},{"name":"inspiration_time","value":{"type":"Expression","content":"inspiration_time"}},{"name":"expiratory_time","value":{"type":"Expression","content":"expiratory_time"}},{"name":"go_to_psv_from_pcv","value":{"type":"Expression","content":"go_to_psv_from_pcv"}}]}}}},"right_astd":{"name":"BreathCycleExpiration","type":"Automaton","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"CallPCVModeExpiration","astd":{"name":"CallPCVModeExpiration","type":"Call","invariant":"","typed_astd":{"called_astd_name":"PCVModeExpiration","call_arguments":[{"name":"parameters","value":{"type":"Expression","content":"parameters"}},{"name":"paw_drop_in","value":{"type":"Expression","content":"paw_drop_in"}},{"name":"inspiration_time","value":{"type":"Expression","content":"inspiration_time"}},{"name":"updated_parameters","value":{"type":"Expression","content":"updated_parameters"}},{"name":"expiratory_time","value":{"type":"Expression","content":"expiratory_time"}}]}},"entry_code":"","stay_code":"","exit_code":""}],"transitions":[],"shallow_final_state_names":[],"deep_final_state_names":["CallPCVModeExpiration"],"initial_state_name":"CallPCVModeExpiration"}}}}}},{"name":"PCVModeInspiration","parameters":[{"name":"parameters","type":"Parameters","domain":{"type":"UnboundedDomain"}},{"name":"inspiration_time","type":"float","domain":{"type":"UnboundedDomain"}},{"name":"expiratory_time","type":"float","domain":{"type":"UnboundedDomain"}},{"name":"go_to_psv_from_pcv","type":"float","domain":{"type":"UnboundedDomain"}}],"type":"Interleave","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","left_astd":{"name":"PCVInspirationPhaseStart","type":"Delay","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","delay":"inspiration_time","delay_unit":"Second","sub_astd":{"name":"CallPCVModeInspirationPhaseEnd","type":"Call","typed_astd":{"called_astd_name":"InspirationPhaseEnd","call_arguments":[{"name":"parameters","value":{"type":"Expression","content":"parameters"}},{"name":"expiratory_time","value":{"type":"Expression","content":"expiratory_time"}},{"name":"go_to_psv_from_pcv","value":{"type":"Expression","content":"go_to_psv_from_pcv"}}]}}}},"right_astd":{"name":"CheckPCVPAWExceedsMaxPinsp","type":"Automaton","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""},{"name":"S1","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S1"},"event_template":{"label":"set_paw","parameters":[{"parameter_kind":"Capture","parameter":{"variable_name":"value","type":"float"}}],"when":[]},"guard":"(value>parameters.max_pinsp)","action":"{\ncout << \"Go To Expiration if new paw > max_pinsp\" <<endl ;\n}","step":false,"from_final_state_only":false}],"shallow_final_state_names":["S0","S1"],"deep_final_state_names":[],"initial_state_name":"S0"}}}},{"name":"PSVModeInspiration","parameters":[{"name":"parameters","type":"Parameters","domain":{"type":"UnboundedDomain"}},{"name":"peak_pinsp_psv","type":"float","domain":{"type":"UnboundedDomain"}},{"name":"ve","type":"float","domain":{"type":"UnboundedDomain"}}],"type":"Interleave","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","left_astd":{"name":"PSVModeNormalInspirationPhase","type":"Sequence","invariant":"","typed_astd":{"attributes":[{"name":"expiratory_time","type":"float","initial_value":"0"},{"name":"change_mode","type":"bool","initial_value":"false"}],"code":"","interruptCode":"","left_astd":{"name":"CheckInspiratoryPeak","type":"Timeout","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"{cout << \"No Detect Inspiratory Peak\" <<endl ;}","duration":"parameters.max_insp_time_psv","duration_unit":"Second","left_astd":{"name":"ReadInspiratoryPeak","type":"Automaton","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"{parameters.out_valve=\"close\";parameters.in_valve=\"open\";}","stay_code":"","exit_code":"","invariant":""},{"name":"S1","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S1"},"event_template":{"label":"Step","parameters":[],"when":[]},"guard":"peak_pinsp_psv >= parameters.pinsp_psv","action":"","step":false,"from_final_state_only":false}],"shallow_final_state_names":["S1"],"deep_final_state_names":[],"initial_state_name":"S0"}},"right_astd":{"name":"StopCheckPeak","type":"Automaton","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""}],"transitions":[],"shallow_final_state_names":["S0"],"deep_final_state_names":[],"initial_state_name":"S0"}}}},"right_astd":{"name":"CallPSVInspirationPhaseEnd","type":"Call","invariant":"","typed_astd":{"called_astd_name":"InspirationPhaseEnd","call_arguments":[{"name":"parameters","value":{"type":"Expression","content":"parameters"}},{"name":"expiratory_time","value":{"type":"Expression","content":"expiratory_time"}},{"name":"go_to_psv_from_pcv","value":{"type":"Expression","content":"change_mode"}}]}}}},"right_astd":{"name":"PSVModeInspiration_o1","type":"Interleave","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","left_astd":{"name":"CheckPSVPAWExceedsMaxPinsp","type":"Automaton","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""},{"name":"S1","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S1"},"event_template":{"label":"set_paw","parameters":[{"parameter_kind":"Capture","parameter":{"variable_name":"value","type":"float"}}],"when":[]},"guard":"(value>parameters.max_pinsp)","action":"","step":false,"from_final_state_only":false}],"shallow_final_state_names":["S0","S1"],"deep_final_state_names":[],"initial_state_name":"S0"}},"right_astd":{"name":"CheckInspiratoryFlowDrops","type":"Automaton","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S0"},"event_template":{"label":"Step","parameters":[],"when":[]},"guard":"(parameters.ets*peak_pinsp_psv)>ve","action":"{parameters.out_valve=\"close\";}","step":false,"from_final_state_only":false}],"shallow_final_state_names":["S0"],"deep_final_state_names":[],"initial_state_name":"S0"}}}}}},{"name":"Sensors","parameters":[{"name":"peak_pinsp","type":"float","domain":{"type":"UnboundedDomain"}},{"name":"parameters","type":"Parameters","domain":{"type":"UnboundedDomain"}},{"name":"mode","type":"string","domain":{"type":"UnboundedDomain"}},{"name":"paw_drop_in","type":"float","domain":{"type":"UnboundedDomain"}},{"name":"ve","type":"float","domain":{"type":"UnboundedDomain"}},{"name":"updated_parameters","type":"Parameters","domain":{"type":"UnboundedDomain"}},{"name":"rr","type":"float","domain":{"type":"UnboundedDomain"}},{"name":"peep","type":"float","domain":{"type":"UnboundedDomain"}},{"name":"vtidal","type":"float","domain":{"type":"UnboundedDomain"}}],"type":"Interleave","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","left_astd":{"name":"SetPeakPinsp","type":"Automaton","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S0"},"event_template":{"label":"set_peak_pinsp","parameters":[{"parameter_kind":"Capture","parameter":{"variable_name":"value","type":"float"}}],"when":[]},"guard":"","action":"{peak_pinsp=value;}","step":false,"from_final_state_only":false}],"shallow_final_state_names":[],"deep_final_state_names":[],"initial_state_name":"S0"}},"right_astd":{"name":"Sensors_o1","type":"Interleave","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","left_astd":{"name":"ChangeMode","type":"Automaton","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S0"},"event_template":{"label":"start_pcv","parameters":[],"when":[]},"guard":"","action":"{mode=\"pcv\";parameters.start_pcv=true;}","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S0"},"event_template":{"label":"start_psv","parameters":[],"when":[]},"guard":"","action":"{mode=\"psv\";parameters.start_psv=true;}","step":false,"from_final_state_only":false}],"shallow_final_state_names":[],"deep_final_state_names":[],"initial_state_name":"S0"}},"right_astd":{"name":"Sensors_o2","type":"Interleave","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","left_astd":{"name":"SetPAW","type":"Automaton","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S0"},"event_template":{"label":"set_paw","parameters":[{"parameter_kind":"Capture","parameter":{"variable_name":"value","type":"float"}}],"when":[]},"guard":"","action":"{paw_drop_in=parameters.paw-value;parameters.paw=value;}","step":false,"from_final_state_only":false}],"shallow_final_state_names":[],"deep_final_state_names":[],"initial_state_name":"S0"}},"right_astd":{"name":"Sensors_o3","type":"Interleave","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","left_astd":{"name":"SetVE","type":"Automaton","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S0"},"event_template":{"label":"set_ve","parameters":[{"parameter_kind":"Capture","parameter":{"variable_name":"value","type":"float"}}],"when":[]},"guard":"","action":"{ve=value;}","step":false,"from_final_state_only":false}],"shallow_final_state_names":[],"deep_final_state_names":[],"initial_state_name":"S0"}},"right_astd":{"name":"Sensors_o4","type":"Interleave","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","left_astd":{"name":"PCVModeSensors","type":"Automaton","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S0"},"event_template":{"label":"set_rr_pcv","parameters":[{"parameter_kind":"Capture","parameter":{"variable_name":"value","type":"float"}}],"when":[]},"guard":"","action":"{updated_parameters.rr_pcv=value;}","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S0"},"event_template":{"label":"set_ie_pcv","parameters":[{"parameter_kind":"Capture","parameter":{"variable_name":"value","type":"float"}}],"when":[]},"guard":"","action":"{updated_parameters.ie_pcv=value;}","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S0"},"event_template":{"label":"set_pinsp_pcv","parameters":[{"parameter_kind":"Capture","parameter":{"variable_name":"value","type":"float"}}],"when":[]},"guard":"","action":"{updated_parameters.pinsp_pcv=value;}","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S0"},"event_template":{"label":"set_its_pcv","parameters":[{"parameter_kind":"Capture","parameter":{"variable_name":"value","type":"float"}}],"when":[]},"guard":"","action":"{updated_parameters.its_pcv=value;}","step":false,"from_final_state_only":false}],"shallow_final_state_names":[],"deep_final_state_names":[],"initial_state_name":"S0"}},"right_astd":{"name":"Sensors_o5","type":"Interleave","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","left_astd":{"name":"ApneaBackupSensors","type":"Automaton","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S0"},"event_template":{"label":"set_rr_ap","parameters":[{"parameter_kind":"Capture","parameter":{"variable_name":"value","type":"float"}}],"when":[]},"guard":"","action":"{updated_parameters.rr_ap=value;}","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S0"},"event_template":{"label":"set_ie_ap","parameters":[{"parameter_kind":"Capture","parameter":{"variable_name":"value","type":"float"}}],"when":[]},"guard":"","action":"{updated_parameters.ie_ap=value;}","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S0"},"event_template":{"label":"set_pinsp_ap","parameters":[{"parameter_kind":"Capture","parameter":{"variable_name":"value","type":"float"}}],"when":[]},"guard":"","action":"{updated_parameters.pinsp_ap=value;}","step":false,"from_final_state_only":false}],"shallow_final_state_names":[],"deep_final_state_names":[],"initial_state_name":"S0"}},"right_astd":{"name":"Sensors_o6","type":"Interleave","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","left_astd":{"name":"PSVModeSensors","type":"Automaton","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S0"},"event_template":{"label":"set_pinsp_psv","parameters":[{"parameter_kind":"Capture","parameter":{"variable_name":"value","type":"float"}}],"when":[]},"guard":"","action":"{updated_parameters.pinsp_psv=value;}","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S0"},"event_template":{"label":"set_its_psv","parameters":[{"parameter_kind":"Capture","parameter":{"variable_name":"value","type":"float"}}],"when":[]},"guard":"","action":"{updated_parameters.its_psv=value;}","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S0"},"event_template":{"label":"set_ets","parameters":[{"parameter_kind":"Capture","parameter":{"variable_name":"value","type":"float"}}],"when":[]},"guard":"","action":"{updated_parameters.ets=value;}","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S0"},"event_template":{"label":"set_apnea_lag","parameters":[{"parameter_kind":"Capture","parameter":{"variable_name":"value","type":"float"}}],"when":[]},"guard":"","action":"{updated_parameters.apnea_lag=value;}","step":false,"from_final_state_only":false}],"shallow_final_state_names":[],"deep_final_state_names":[],"initial_state_name":"S0"}},"right_astd":{"name":"Sensors_o7","type":"Interleave","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","left_astd":{"name":"AlarmThresholdsSensors","type":"Automaton","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S0"},"event_template":{"label":"set_max_pinsp","parameters":[{"parameter_kind":"Capture","parameter":{"variable_name":"value","type":"float"}}],"when":[]},"guard":"","action":"{updated_parameters.max_pinsp=value;}","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S0"},"event_template":{"label":"set_min_pinsp","parameters":[{"parameter_kind":"Capture","parameter":{"variable_name":"value","type":"float"}}],"when":[]},"guard":"","action":"{updated_parameters.min_pinsp=value;}","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S0"},"event_template":{"label":"set_max_vtidal_exp","parameters":[{"parameter_kind":"Capture","parameter":{"variable_name":"value","type":"float"}}],"when":[]},"guard":"","action":"{updated_parameters.max_vtidal_exp=value;}","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S0"},"event_template":{"label":"set_min_vtidal_exp","parameters":[{"parameter_kind":"Capture","parameter":{"variable_name":"value","type":"float"}}],"when":[]},"guard":"","action":"{updated_parameters.min_vtidal_exp=value;}","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S0"},"event_template":{"label":"set_max_vtidal_insp","parameters":[{"parameter_kind":"Capture","parameter":{"variable_name":"value","type":"float"}}],"when":[]},"guard":"","action":"{updated_parameters.max_vtidal_insp=value;}","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S0"},"event_template":{"label":"set_min_vtidal_insp","parameters":[{"parameter_kind":"Capture","parameter":{"variable_name":"value","type":"float"}}],"when":[]},"guard":"","action":"{updated_parameters.min_vtidal_insp=value;}","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S0"},"event_template":{"label":"set_min_ve","parameters":[{"parameter_kind":"Capture","parameter":{"variable_name":"value","type":"float"}}],"when":[]},"guard":"","action":"{updated_parameters.min_ve=value;}","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S0"},"event_template":{"label":"set_max_ve","parameters":[{"parameter_kind":"Capture","parameter":{"variable_name":"value","type":"float"}}],"when":[]},"guard":"","action":"{updated_parameters.max_ve=value;}","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S0"},"event_template":{"label":"set_min_rr","parameters":[{"parameter_kind":"Capture","parameter":{"variable_name":"value","type":"float"}}],"when":[]},"guard":"","action":"{updated_parameters.min_rr=value;}","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S0"},"event_template":{"label":"set_max_rr","parameters":[{"parameter_kind":"Capture","parameter":{"variable_name":"value","type":"float"}}],"when":[]},"guard":"","action":"{updated_parameters.max_rr=value;}","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S0"},"event_template":{"label":"set_min_peep","parameters":[{"parameter_kind":"Capture","parameter":{"variable_name":"value","type":"float"}}],"when":[]},"guard":"","action":"{updated_parameters.min_peep=value;}","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S0"},"event_template":{"label":"set_max_peep","parameters":[{"parameter_kind":"Capture","parameter":{"variable_name":"value","type":"float"}}],"when":[]},"guard":"","action":"{updated_parameters.max_peep=value;}","step":false,"from_final_state_only":false}],"shallow_final_state_names":[],"deep_final_state_names":[],"initial_state_name":"S0"}},"right_astd":{"name":"Sensors_o8","type":"Interleave","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","left_astd":{"name":"HWSensors","type":"Automaton","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S0"},"event_template":{"label":"set_fi1","parameters":[{"parameter_kind":"Capture","parameter":{"variable_name":"value","type":"float"}}],"when":[]},"guard":"","action":"{updated_parameters.fi1=value;\nparameters.fi1=value;\n}","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S0"},"event_template":{"label":"set_oxygen_sensor","parameters":[{"parameter_kind":"Capture","parameter":{"variable_name":"value","type":"float"}}],"when":[]},"guard":"","action":"{updated_parameters.oxygen_sensor=value;\nparameters.oxygen_sensor=value;\n}","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S0"},"event_template":{"label":"set_ps_exp","parameters":[{"parameter_kind":"Capture","parameter":{"variable_name":"value","type":"float"}}],"when":[]},"guard":"","action":"{updated_parameters.ps_exp=value;\nparameters.ps_exp=value;\n}","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S0"},"event_template":{"label":"set_fi2","parameters":[{"parameter_kind":"Capture","parameter":{"variable_name":"value","type":"float"}}],"when":[]},"guard":"","action":"{updated_parameters.fi2=value;}","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S0"},"event_template":{"label":"set_ps_ins","parameters":[{"parameter_kind":"Capture","parameter":{"variable_name":"value","type":"float"}}],"when":[]},"guard":"","action":"{\nupdated_parameters.ps_ins=value;\nparameters.ps_ins=value;\n}","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S0"},"event_template":{"label":"set_gas_pressure","parameters":[{"parameter_kind":"Capture","parameter":{"variable_name":"value","type":"float"}}],"when":[]},"guard":"","action":"{\nupdated_parameters.gas_pressure=value;\nparameters.gas_pressure=value;\n}","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S0"},"event_template":{"label":"set_temperature","parameters":[{"parameter_kind":"Capture","parameter":{"variable_name":"value","type":"float"}}],"when":[]},"guard":"","action":"{\nupdated_parameters.temperature=value;\nparameters.temperature=value;\n}","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S0"},"event_template":{"label":"set_battery_charge_level","parameters":[{"parameter_kind":"Capture","parameter":{"variable_name":"value","type":"float"}}],"when":[]},"guard":"","action":"{updated_parameters.battery_charge_level=value;\nparameters.battery_charge_level=value;\n}","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S0"},"event_template":{"label":"set_power_supply","parameters":[{"parameter_kind":"Capture","parameter":{"variable_name":"value","type":"string"}}],"when":[]},"guard":"","action":"{parameters.power_supply=value;updated_parameters.power_supply=value;}","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S0"},"event_template":{"label":"set_fan_tachometer","parameters":[{"parameter_kind":"Capture","parameter":{"variable_name":"value","type":"float"}}],"when":[]},"guard":"","action":"{updated_parameters.fan_tachometer=value;\nparameters.fan_tachometer=value;\n}","step":false,"from_final_state_only":false}],"shallow_final_state_names":[],"deep_final_state_names":[],"initial_state_name":"S0"}},"right_astd":{"name":"RmParametersSensors","type":"Automaton","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S0"},"event_template":{"label":"set_max_rm_time","parameters":[{"parameter_kind":"Capture","parameter":{"variable_name":"value","type":"float"}}],"when":[]},"guard":"","action":"{updated_parameters.max_rm_time=value;}","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S0"},"event_template":{"label":"set_prm","parameters":[{"parameter_kind":"Capture","parameter":{"variable_name":"value","type":"float"}}],"when":[]},"guard":"","action":"{updated_parameters.prm=value;}","step":false,"from_final_state_only":false}],"shallow_final_state_names":[],"deep_final_state_names":[],"initial_state_name":"S0"}}}}}}}}}}}}}}}}}}}},{"name":"PSVModeExpiration","parameters":[{"name":"parameters","type":"Parameters","domain":{"type":"UnboundedDomain"}},{"name":"paw_drop_in","type":"float","domain":{"type":"UnboundedDomain"}},{"name":"last_inspiration_time","type":"float","domain":{"type":"UnboundedDomain"}},{"name":"move_to_pcv","type":"bool","domain":{"type":"UnboundedDomain"}},{"name":"updated_parameters","type":"Parameters","domain":{"type":"UnboundedDomain"}}],"type":"Timeout","invariant":"","typed_astd":{"attributes":[{"name":"its_trigger_window","type":"Timer","initial_value":"parameters.trigger_window_delay"},{"name":"inspiration_time","type":"float","initial_value":"0"}],"code":"","interruptCode":"{move_to_pcv=true;cout << \"No Detect Spontaneaous Breath\" <<endl ;}","duration":"parameters.apnea_lag","duration_unit":"Second","left_astd":{"name":"WaitMinExpTimePSV","type":"Delay","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","delay":"last_inspiration_time/2","delay_unit":"Second","sub_astd":{"name":"DetectSpontaneousBreath","type":"Automaton","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""},{"name":"S1","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S1"},"event_template":{"label":"Step","parameters":[],"when":[]},"guard":"(paw_drop_in > parameters.its_psv) && its_trigger_window.expired(0.7)","action":"{parameters=updated_parameters;\ncout << \"No Detect Spontaneaous Breath\" <<endl ;\n}","step":false,"from_final_state_only":false}],"shallow_final_state_names":["S1"],"deep_final_state_names":[],"initial_state_name":"S0"}}}},"right_astd":{"name":"PSVNoSpontaneousBreath","type":"Automaton","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"CallPSVDetectExpiratoryOff","astd":{"name":"CallPSVDetectExpiratoryOff","type":"Call","invariant":"","typed_astd":{"called_astd_name":"DetectExpiratoryPauseOff","call_arguments":[{"name":"parameters","value":{"type":"Expression","content":"parameters"}},{"name":"inspiration_time","value":{"type":"Expression","content":"inspiration_time"}},{"name":"updated_parameters","value":{"type":"Expression","content":"updated_parameters"}}]}},"entry_code":"","stay_code":"","exit_code":""},{"name":"S1","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""},{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"CallPSVDetectExpiratoryOff"},"event_template":{"label":"expiratory_pause_on","parameters":[],"when":[]},"guard":"","action":"{parameters.expiratory_pause_on=true;parameters.expiratory_pause_off=false;\ncout << \"Launch expiratory pause on\" <<endl ;\n}","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S1"},"event_template":{"label":"no_expiratory_pause_on","parameters":[],"when":[]},"guard":"","action":"{parameters=updated_parameters;\ncout << \"No expiratory pause on\" <<endl ;\n}","step":false,"from_final_state_only":false}],"shallow_final_state_names":["S1"],"deep_final_state_names":["CallPSVDetectExpiratoryOff"],"initial_state_name":"S0"}}}},{"name":"DetectExpiratoryPauseOff","parameters":[{"name":"parameters","type":"Parameters","domain":{"type":"UnboundedDomain"}},{"name":"inspiration_time","type":"float","domain":{"type":"UnboundedDomain"}},{"name":"updated_parameters","type":"Parameters","domain":{"type":"UnboundedDomain"}}],"type":"Timeout","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"{\nparameters=updated_parameters;\ninspiration_time =60*parameters.ie_pcv/(parameters.rr_pcv*(1+parameters.ie_pcv));\ncout << \"Launch Expiratory pause Timeout\" <<endl ;\n}","duration":"parameters.max_exp_pause","duration_unit":"Second","left_astd":{"name":"CheckExpiratoryPauseOff","type":"Automaton","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""},{"name":"S1","astd":{"type":"Elem","typed_astd":{}},"entry_code":"{\ninspiration_time =60*parameters.ie_pcv/(parameters.rr_pcv*(1+parameters.ie_pcv));\n}","stay_code":"","exit_code":"{inspiration_time =60*parameters.ie_pcv/(parameters.rr_pcv*(1+parameters.ie_pcv));}","invariant":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S1"},"event_template":{"label":"expiratory_pause_off","parameters":[],"when":[]},"guard":"","action":"{parameters=updated_parameters;\ncout << \"Launch Expiratory pause off\" <<endl ;\n}","step":false,"from_final_state_only":false}],"shallow_final_state_names":["S1"],"deep_final_state_names":[],"initial_state_name":"S0"}},"right_astd":{"name":"StopExpiratoryPause","type":"Automaton","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""}],"transitions":[],"shallow_final_state_names":["S0"],"deep_final_state_names":[],"initial_state_name":"S0"}}}},{"name":"TestASTD","parameters":[],"type":"Flow","invariant":"","typed_astd":{"attributes":[{"name":"paw_drop_in","type":"int","initial_value":"0"},{"name":"peak_pinsp","type":"int","initial_value":"0"},{"name":"mode","type":"string","initial_value":""},{"name":"ve","type":"float","initial_value":"2"},{"name":"inspiration_time","type":"float","initial_value":"60*parameters.ie_pcv/(parameters.rr_pcv*(1+parameters.ie_pcv));"},{"name":"move_to_pcv","type":"bool","initial_value":"false"},{"name":"last_inspiration_time","type":"float","initial_value":"0"},{"name":"updated_parameters","type":"Parameters","initial_value":"Parameters()"},{"name":"power_status","type":"string","initial_value":"on"},{"name":"vtidal","type":"float","initial_value":"0"},{"name":"rr","type":"float","initial_value":"0"},{"name":"peep","type":"float","initial_value":"0"},{"name":"fio2","type":"float","initial_value":"0"},{"name":"parameters","type":"Parameters","initial_value":"{}"}],"code":"","interruptCode":"","left_astd":{"name":"CallTestSensors","type":"Call","invariant":"","typed_astd":{"called_astd_name":"Sensors","call_arguments":[{"name":"peak_pinsp","value":{"type":"Expression","content":"peak_pinsp"}},{"name":"parameters","value":{"type":"Expression","content":"parameters"}},{"name":"mode","value":{"type":"Expression","content":"mode"}},{"name":"paw_drop_in","value":{"type":"Expression","content":"paw_drop_in"}},{"name":"ve","value":{"type":"Expression","content":"ve"}},{"name":"updated_parameters","value":{"type":"Expression","content":"updated_parameters"}},{"name":"rr","value":{"type":"Constant","content":1}},{"name":"peep","value":{"type":"Constant","content":2}},{"name":"vtidal","value":{"type":"Constant","content":3}}]}},"right_astd":{"name":"TestASTD_o1","type":"Flow","invariant":"","typed_astd":{"attributes":[{"name":"paw_drop_in","type":"int","initial_value":"0"},{"name":"peak_pinsp","type":"int","initial_value":"0"},{"name":"mode","type":"string","initial_value":""},{"name":"ve","type":"float","initial_value":"2"},{"name":"inspiration_time","type":"float","initial_value":"60*parameters.ie_pcv/(parameters.rr_pcv*(1+parameters.ie_pcv));"},{"name":"move_to_pcv","type":"bool","initial_value":"false"},{"name":"last_inspiration_time","type":"float","initial_value":"0"},{"name":"updated_parameters","type":"Parameters","initial_value":"Parameters()"},{"name":"power_status","type":"string","initial_value":"on"},{"name":"vtidal","type":"float","initial_value":"0"},{"name":"rr","type":"float","initial_value":"0"},{"name":"peep","type":"float","initial_value":"0"},{"name":"fio2","type":"float","initial_value":"0"},{"name":"parameters","type":"Parameters","initial_value":"{}"}],"code":"","interruptCode":"","left_astd":{"name":"CallTestActuators","type":"Call","invariant":"","typed_astd":{"called_astd_name":"Actuators","call_arguments":[{"name":"parameters","value":{"type":"Expression","content":"parameters"}},{"name":"power_status","value":{"type":"Expression","content":"power_status"}},{"name":"mode","value":{"type":"Expression","content":"mode"}},{"name":"vtidal","value":{"type":"Expression","content":"vtidal"}},{"name":"rr","value":{"type":"Expression","content":"rr"}},{"name":"peep","value":{"type":"Expression","content":"peep"}},{"name":"peak_pinsp","value":{"type":"Expression","content":"peak_pinsp"}},{"name":"fio2","value":{"type":"Expression","content":"fio2"}},{"name":"ve","value":{"type":"Expression","content":"ve"}}]}},"right_astd":{"name":"SucceedTest","type":"Sequence","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","left_astd":{"name":"CallNewStartup","type":"Call","invariant":"","typed_astd":{"called_astd_name":"StartUp","call_arguments":[{"name":"parameters","value":{"type":"Expression","content":"parameters"}},{"name":"updated_parameters","value":{"type":"Expression","content":"updated_parameters"}}]}},"right_astd":{"name":"SuccessTest","type":"Sequence","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","left_astd":{"name":"GoToVentilationOff","type":"Choice","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","left_astd":{"name":"CallStartup1","type":"Call","invariant":"","typed_astd":{"called_astd_name":"SelfTest","call_arguments":[{"name":"parameters","value":{"type":"Expression","content":"parameters"}}]}},"right_astd":{"name":"Resume","type":"Automaton","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""},{"name":"S1","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S1"},"event_template":{"label":"resume_ventilation","parameters":[],"when":[]},"guard":"","action":"","step":false,"from_final_state_only":false}],"shallow_final_state_names":["S1"],"deep_final_state_names":[],"initial_state_name":"S0"}}}},"right_astd":{"name":"ChooseMode","type":"Automaton","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"VentilationOffMode","astd":{"name":"VentilationOffMode","type":"Automaton","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"callVentilationOffFailSafe","astd":{"name":"callVentilationOffFailSafe","type":"Call","invariant":"","typed_astd":{"called_astd_name":"FailSafe","call_arguments":[{"name":"parameters","value":{"type":"Expression","content":"parameters"}}]}},"entry_code":"","stay_code":"","exit_code":""},{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"{cout<< \"Inside ventilation Off\"<< endl;\nif( parameters.in_valve===null|| parameters.in_valve!=\"close\"){parameters.in_valve=\"close\";}\nif( parameters.out_valve===null || parameters.out_valve!=\"open\"){parameters.out_valve=\"open\";}\n}","stay_code":"","exit_code":"","invariant":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"callVentilationOffFailSafe"},"event_template":{"label":"error","parameters":[],"when":[]},"guard":"","action":"","step":false,"from_final_state_only":false}],"shallow_final_state_names":[],"deep_final_state_names":[],"initial_state_name":"S0"}},"entry_code":"","stay_code":"","exit_code":""}],"transitions":[],"shallow_final_state_names":[],"deep_final_state_names":[],"initial_state_name":"VentilationOffMode"}}}}}}}}}},{"name":"LaunchLoop","parameters":[{"name":"parameters","type":"Parameters","domain":{"type":"UnboundedDomain"}},{"name":"adc_timeout","type":"int","domain":{"type":"UnboundedDomain"}},{"name":"error","type":"bool","domain":{"type":"UnboundedDomain"}},{"name":"updated_parameters","type":"Parameters","domain":{"type":"UnboundedDomain"}},{"name":"attempt","type":"int","domain":{"type":"UnboundedDomain"}}],"type":"Automaton","invariant":"","typed_astd":{"attributes":[{"name":"enable_loop","type":"bool","initial_value":"false"}],"code":"","interruptCode":"","states":[{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""},{"name":"ADCLoopTimeOut","astd":{"name":"ADCLoopTimeOut","type":"Timeout","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"{attempt++;cout<< \"launch ADC timeout \"<<attempt << endl;}","duration":"adc_timeout","duration_unit":"Second","left_astd":{"name":"ADCInitializationCallResponse","type":"Automaton","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"ADCInitializationCallError","astd":{"name":"ADCInitializationCallError","type":"Call","invariant":"","typed_astd":{"called_astd_name":"FailSafe","call_arguments":[{"name":"parameters","value":{"type":"Expression","content":"parameters"}}]}},"entry_code":"","stay_code":"","exit_code":""},{"name":"S1","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""},{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"ADCInitializationCallError"},"event_template":{"label":"error","parameters":[],"when":[]},"guard":"","action":"","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S1"},"event_template":{"label":"success_initialization","parameters":[],"when":[]},"guard":"","action":"{cout<< \"ADC initialisation process\"<< endl;}","step":false,"from_final_state_only":false}],"shallow_final_state_names":["S1"],"deep_final_state_names":[],"initial_state_name":"S0"}},"right_astd":{"name":"AdcInitializationCallNoResponse","type":"Automaton","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"{enable_loop=true;cout<< \"Launch Another Loop\"<< endl;}","stay_code":"","exit_code":"","invariant":""}],"transitions":[],"shallow_final_state_names":[],"deep_final_state_names":[],"initial_state_name":"S0"}}}},"entry_code":"","stay_code":"","exit_code":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"ADCLoopTimeOut"},"event_template":{"label":"Step","parameters":[],"when":[]},"guard":"","action":"{cout<< \"Launch ADC initialisation process \"<< attempt <<  endl;}","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"ADCLoopTimeOut","to_state_name":"ADCLoopTimeOut"},"event_template":{"label":"Step","parameters":[],"when":[]},"guard":"enable_loop==true","action":"{enable_loop=false;\ncout<< \"New Loop ADC initialisation process \"<< attempt <<  endl;\n}","step":false,"from_final_state_only":false}],"shallow_final_state_names":[],"deep_final_state_names":["ADCLoopTimeOut"],"initial_state_name":"S0"}},{"name":"Initialization","parameters":[{"name":"parameters","type":"Parameters","domain":{"type":"UnboundedDomain"}},{"name":"adc_timeout","type":"int","domain":{"type":"UnboundedDomain"}},{"name":"updated_parameters","type":"Parameters","domain":{"type":"UnboundedDomain"}},{"name":"error","type":"bool","domain":{"type":"UnboundedDomain"}}],"type":"Flow","invariant":"","typed_astd":{"attributes":[{"name":"attempt","type":"int","initial_value":"1"},{"name":"status","type":"string","initial_value":""}],"code":"","interruptCode":"","left_astd":{"name":"LoadDefaultConfig","type":"Automaton","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""},{"name":"S1","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""},{"name":"S3","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""},{"name":"S2","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S1"},"event_template":{"label":"Step","parameters":[],"when":[]},"guard":"","action":"{read_config(\"config.txt\", status, parameters);\ncout<< \"launch initialisation process\"<< endl;\n}","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"S1","to_state_name":"S2"},"event_template":{"label":"Step","parameters":[],"when":[]},"guard":"status == \"success\"","action":"{updated_parameters=parameters;cout<< \"success load config file\"<< endl;}","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"S1","to_state_name":"S3"},"event_template":{"label":"Step","parameters":[],"when":[]},"guard":"status == \"error\"","action":"{error=true;cout<< \"error load config file\"<< endl;}","step":false,"from_final_state_only":false}],"shallow_final_state_names":["S2"],"deep_final_state_names":[],"initial_state_name":"S0"}},"right_astd":{"name":"ADCInitializationChoice","type":"Choice","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","left_astd":{"name":"ADCInitializationCall","type":"Guard","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","guard":"(attempt  < 6)","sub_astd":{"name":"FirstCall","type":"Automaton","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"CallLaunchLoop","astd":{"name":"CallLaunchLoop","type":"Call","invariant":"","typed_astd":{"called_astd_name":"LaunchLoop","call_arguments":[{"name":"parameters","value":{"type":"Expression","content":"parameters"}},{"name":"adc_timeout","value":{"type":"Expression","content":"adc_timeout"}},{"name":"error","value":{"type":"Expression","content":"error"}},{"name":"updated_parameters","value":{"type":"Expression","content":"updated_parameters"}},{"name":"attempt","value":{"type":"Expression","content":"attempt"}}]}},"entry_code":"","stay_code":"","exit_code":""}],"transitions":[],"shallow_final_state_names":[],"deep_final_state_names":["CallLaunchLoop"],"initial_state_name":"CallLaunchLoop"}}}},"right_astd":{"name":"ADCInitializationNoResponse","type":"Guard","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","guard":"(attempt==6)","sub_astd":{"name":"ADCInitializationLaunchFail","type":"Automaton","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"CallADCInitializationFailSafe","astd":{"name":"CallADCInitializationFailSafe","type":"Call","invariant":"","typed_astd":{"called_astd_name":"FailSafe","call_arguments":[{"name":"parameters","value":{"type":"Expression","content":"parameters"}}]}},"entry_code":"","stay_code":"","exit_code":""},{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"CallADCInitializationFailSafe"},"event_template":{"label":"Step","parameters":[],"when":[]},"guard":"","action":"{error=true;}","step":false,"from_final_state_only":false}],"shallow_final_state_names":[],"deep_final_state_names":[],"initial_state_name":"S0"}}}}}}}},{"name":"Actuators","parameters":[{"name":"parameters","type":"Parameters","domain":{"type":"UnboundedDomain"}},{"name":"power_status","type":"string","domain":{"type":"UnboundedDomain"}},{"name":"mode","type":"string","domain":{"type":"UnboundedDomain"}},{"name":"vtidal","type":"bool","domain":{"type":"UnboundedDomain"}},{"name":"rr","type":"float","domain":{"type":"UnboundedDomain"}},{"name":"peep","type":"float","domain":{"type":"UnboundedDomain"}},{"name":"peak_pinsp","type":"float","domain":{"type":"UnboundedDomain"}},{"name":"fio2","type":"float","domain":{"type":"UnboundedDomain"}},{"name":"ve","type":"float","domain":{"type":"UnboundedDomain"}}],"type":"Interleave","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","left_astd":{"name":"LoopGetPAW","type":"Kleene","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","sub_astd":{"name":"GetPAW","type":"Automaton","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""},{"name":"S1","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""},{"name":"S3","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S1"},"event_template":{"label":"get_paw","parameters":[],"when":[]},"guard":"","action":"","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"S1","to_state_name":"S3"},"event_template":{"label":"Step","parameters":[],"when":[]},"guard":"","action":"{cout << \"PAW value = \" <<  parameters.paw<<  endl;;}","step":false,"from_final_state_only":false}],"shallow_final_state_names":["S3"],"deep_final_state_names":[],"initial_state_name":"S0"}}}},"right_astd":{"name":"Actuators_o1","type":"Interleave","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","left_astd":{"name":"LoopGetTemperature","type":"Kleene","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","sub_astd":{"name":"GetTemperature","type":"Automaton","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""},{"name":"S1","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""},{"name":"S2","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S1"},"event_template":{"label":"get_temperature","parameters":[],"when":[]},"guard":"","action":"","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"S1","to_state_name":"S2"},"event_template":{"label":"Step","parameters":[],"when":[]},"guard":"","action":"{cout << \"Temperature value = \" <<  parameters.temperature<<  endl;;}","step":false,"from_final_state_only":false}],"shallow_final_state_names":["S2"],"deep_final_state_names":[],"initial_state_name":"S0"}}}},"right_astd":{"name":"Actuators_o2","type":"Interleave","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","left_astd":{"name":"LoopGetFiO2","type":"Kleene","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","sub_astd":{"name":"GetFiO2","type":"Automaton","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""},{"name":"S1","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""},{"name":"S2","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S1"},"event_template":{"label":"get_fio2","parameters":[],"when":[]},"guard":"","action":"","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"S1","to_state_name":"S2"},"event_template":{"label":"Step","parameters":[],"when":[]},"guard":"","action":"{cout << \"FiO2 value = \" <<  fio2<<  endl;}","step":false,"from_final_state_only":false}],"shallow_final_state_names":["S2"],"deep_final_state_names":[],"initial_state_name":"S0"}}}},"right_astd":{"name":"Actuators_o3","type":"Interleave","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","left_astd":{"name":"LoopGetBatteryChargeLevel","type":"Kleene","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","sub_astd":{"name":"GetBatteryChargeLevel","type":"Automaton","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""},{"name":"S2","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""},{"name":"S1","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S1"},"event_template":{"label":"get_battery_charge_level","parameters":[],"when":[]},"guard":"","action":"","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"S1","to_state_name":"S2"},"event_template":{"label":"Step","parameters":[],"when":[]},"guard":"","action":"{cout << \"Battery charge level value = \" <<  parameters.battery_charge_level<<  endl;}","step":false,"from_final_state_only":false}],"shallow_final_state_names":["S2"],"deep_final_state_names":[],"initial_state_name":"S0"}}}},"right_astd":{"name":"Actuators_o4","type":"Interleave","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","left_astd":{"name":"LoopGetRR","type":"Kleene","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","sub_astd":{"name":"GetRR","type":"Automaton","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""},{"name":"S1","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""},{"name":"S2","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S1"},"event_template":{"label":"get_rr","parameters":[],"when":[]},"guard":"","action":"","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"S1","to_state_name":"S2"},"event_template":{"label":"Step","parameters":[],"when":[]},"guard":"","action":"{cout << \"RR value = \" <<  rr<<  endl;;}","step":false,"from_final_state_only":false}],"shallow_final_state_names":["S2"],"deep_final_state_names":[],"initial_state_name":"S0"}}}},"right_astd":{"name":"Actuators_o5","type":"Interleave","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","left_astd":{"name":"LoopGetVE","type":"Kleene","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","sub_astd":{"name":"GetVe","type":"Automaton","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""},{"name":"S1","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""},{"name":"S2","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S1"},"event_template":{"label":"get_ve","parameters":[],"when":[]},"guard":"","action":"","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"S1","to_state_name":"S2"},"event_template":{"label":"Step","parameters":[],"when":[]},"guard":"","action":"{cout << \"VE value = \" << ve<<  endl;;}","step":false,"from_final_state_only":false}],"shallow_final_state_names":["S2"],"deep_final_state_names":[],"initial_state_name":"S0"}}}},"right_astd":{"name":"Actuators_o6","type":"Interleave","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","left_astd":{"name":"LoopGetPeep","type":"Kleene","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","sub_astd":{"name":"GetPeep","type":"Automaton","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""},{"name":"S1","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""},{"name":"S2","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S1"},"event_template":{"label":"get_peep","parameters":[],"when":[]},"guard":"","action":"","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"S1","to_state_name":"S2"},"event_template":{"label":"Step","parameters":[],"when":[]},"guard":"","action":"{cout << \"PEEP value = \" << peep<<  endl;}","step":false,"from_final_state_only":false}],"shallow_final_state_names":["S2"],"deep_final_state_names":[],"initial_state_name":"S0"}}}},"right_astd":{"name":"Actuators_o7","type":"Interleave","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","left_astd":{"name":"LoopGetRMTime","type":"Kleene","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","sub_astd":{"name":"GetRmTime","type":"Automaton","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""},{"name":"S1","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""},{"name":"S2","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S1"},"event_template":{"label":"get_timer_rm","parameters":[],"when":[]},"guard":"","action":"","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"S1","to_state_name":"S2"},"event_template":{"label":"Step","parameters":[],"when":[]},"guard":"","action":"{cout << \"RM Time value = \" <<  parameters.timer_rm<<  endl;}","step":false,"from_final_state_only":false}],"shallow_final_state_names":["S2"],"deep_final_state_names":[],"initial_state_name":"S0"}}}},"right_astd":{"name":"Actuators_o8","type":"Interleave","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","left_astd":{"name":"LoopGetPeakPinsp","type":"Kleene","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","sub_astd":{"name":"GetPeakPinsp","type":"Automaton","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""},{"name":"S1","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""},{"name":"S2","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S1"},"event_template":{"label":"get_peak_pinsp","parameters":[],"when":[]},"guard":"","action":"","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"S1","to_state_name":"S2"},"event_template":{"label":"Step","parameters":[],"when":[]},"guard":"","action":"{cout << \"Peak pinsp value = \" << peak_pinsp<<  endl;;}","step":false,"from_final_state_only":false}],"shallow_final_state_names":["S2"],"deep_final_state_names":[],"initial_state_name":"S0"}}}},"right_astd":{"name":"Actuators_o9","type":"Interleave","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","left_astd":{"name":"LoopGetVtidal","type":"Kleene","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","sub_astd":{"name":"GetVtidal","type":"Automaton","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""},{"name":"S1","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""},{"name":"S2","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S1"},"event_template":{"label":"get_vtidal","parameters":[],"when":[]},"guard":"","action":"","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"S1","to_state_name":"S2"},"event_template":{"label":"Step","parameters":[],"when":[]},"guard":"","action":"{cout << \"Vtidal value = \" <<  vtidal<<  endl;}","step":false,"from_final_state_only":false}],"shallow_final_state_names":["S2"],"deep_final_state_names":[],"initial_state_name":"S0"}}}},"right_astd":{"name":"Actuators_o10","type":"Interleave","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","left_astd":{"name":"LoopGetBatteryPower","type":"Kleene","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","sub_astd":{"name":"GetBatteryPower","type":"Automaton","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""},{"name":"S1","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""},{"name":"S2","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S1"},"event_template":{"label":"get_battery_power","parameters":[],"when":[]},"guard":"","action":"","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"S1","to_state_name":"S2"},"event_template":{"label":"Step","parameters":[],"when":[]},"guard":"","action":"{cout << \"Power source value = \" <<  parameters.power_supply<<  endl;}","step":false,"from_final_state_only":false}],"shallow_final_state_names":["S2"],"deep_final_state_names":[],"initial_state_name":"S0"}}}},"right_astd":{"name":"LoopGetVentilatorCurrentStatus","type":"Kleene","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","sub_astd":{"name":"GetVentilatorCurrentStatus","type":"Automaton","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""},{"name":"S1","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""},{"name":"S2","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S1"},"event_template":{"label":"get_current_status","parameters":[],"when":[]},"guard":"","action":"","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"S1","to_state_name":"S2"},"event_template":{"label":"Step","parameters":[],"when":[]},"guard":"","action":"{\nstring status = (power_status==\"off\")?\"stopped,\":\"running,\";\ncout << \"Current Status value = \" << status  <<mode<<  endl;}","step":false,"from_final_state_only":false}],"shallow_final_state_names":["S2"],"deep_final_state_names":[],"initial_state_name":"S0"}}}}}}}}}}}}}}}}}}}}}}}}}},{"name":"TestMain","parameters":[],"type":"Automaton","invariant":"","typed_astd":{"attributes":[{"name":"parameters","type":"Parameters","initial_value":"{}"},{"name":"power_status","type":"string","initial_value":"off"}],"code":"","interruptCode":"","states":[{"name":"ON","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""},{"name":"CallTestASTD","astd":{"name":"CallTestASTD","type":"Call","invariant":"","typed_astd":{"called_astd_name":"TestController","call_arguments":[]}},"entry_code":"","stay_code":"","exit_code":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"ON","to_state_name":"CallTestASTD"},"event_template":{"label":"power_on","parameters":[],"when":[]},"guard":"","action":"{power_status=\"on\";}","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"CallTestASTD","to_state_name":"ON"},"event_template":{"label":"power_off","parameters":[],"when":[]},"guard":"","action":"{power_status=\"off\";save_config(\"config.txt\", parameters);}","step":false,"from_final_state_only":false}],"shallow_final_state_names":[],"deep_final_state_names":[],"initial_state_name":"ON"}},{"name":"TestController","parameters":[],"type":"Automaton","invariant":"","typed_astd":{"attributes":[{"name":"paw_drop_in","type":"float","initial_value":"0"},{"name":"peak_pinsp","type":"int","initial_value":"0"},{"name":"mode","type":"string","initial_value":""},{"name":"ve","type":"float","initial_value":"2"},{"name":"inspiration_time","type":"float","initial_value":"60*parameters.ie_pcv/(parameters.rr_pcv*(1+parameters.ie_pcv));"},{"name":"move_to_pcv","type":"bool","initial_value":"false"},{"name":"last_inspiration_time","type":"float","initial_value":"0"},{"name":"updated_parameters","type":"Parameters","initial_value":"{}"},{"name":"vtidal","type":"float","initial_value":"0"},{"name":"rr","type":"float","initial_value":"0"},{"name":"peep","type":"float","initial_value":"0"},{"name":"fio2","type":"float","initial_value":"0"},{"name":"parameters","type":"Parameters","initial_value":"{}"},{"name":"power_status","type":"string","initial_value":"on"},{"name":"go_to_psv_from_pcv","type":"bool","initial_value":"false"}],"code":"","interruptCode":"","states":[{"name":"TestCallPCVMode","astd":{"name":"TestCallPCVMode","type":"Call","invariant":"","typed_astd":{"called_astd_name":"PSVMode","call_arguments":[{"name":"parameters","value":{"type":"Expression","content":"parameters"}},{"name":"paw_drop_in","value":{"type":"Expression","content":"paw_drop_in"}},{"name":"move_to_pcv","value":{"type":"Expression","content":"inspiration_time"}},{"name":"last_inspiration_time","value":{"type":"Expression","content":"last_inspiration_time"}},{"name":"peak_pinsp_psv","value":{"type":"Expression","content":"go_to_psv_from_pcv"}},{"name":"ve","value":{"type":"Expression","content":"ve"}},{"name":"updated_parameters","value":{"type":"Expression","content":"updated_parameters"}}]}},"entry_code":"","stay_code":"","exit_code":""}],"transitions":[],"shallow_final_state_names":[],"deep_final_state_names":[],"initial_state_name":"TestCallPCVMode"}}],"conf":[]}